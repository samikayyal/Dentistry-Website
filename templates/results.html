\
{% extends "base.html" %}

{% block title %}Test Results{% endblock %}

{% block head %}
{{ super() }}
<style>
    .results-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 60vh;
        /* Adjust as needed */
        text-align: center;
    }

    .progress-circle {
        width: 150px;
        height: 150px;
        border-radius: 50%;
        /* Use a CSS variable for the percentage */
        background: conic-gradient(#4CAF50 var(--percentage, 0%),
                /* Default to 0% */
                #ddd var(--percentage, 0%));
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 20px;
        position: relative;
        /* Needed for inner circle */
    }

    .progress-circle::before {
        /* Inner white circle */
        content: "";
        position: absolute;
        width: 85%;
        /* Adjust size of inner circle */
        height: 85%;
        background-color: white;
        border-radius: 50%;
    }

    .progress-text {
        font-size: 2em;
        font-weight: bold;
        color: #333;
        z-index: 1;
        /* Ensure text is above the pseudo-element */
    }

    .score-subtitle {
        font-size: 1.2em;
        color: #555;
        margin-bottom: 30px;
    }

    .results-buttons .btn {
        margin: 0 10px;
        min-width: 150px;
        /* Ensure buttons have a decent width */
    }
</style>
{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="results-container">
        <h2>Your Results</h2>
        <!-- Set the CSS variable in the style attribute -->
        <div class="progress-circle" style="--percentage: {{ percentage }}%">
            <span class="progress-text">{{ percentage }}%</span>
        </div>
        <div class="score-subtitle">
            {{ num_correct }} out of {{ total_questions }} correct
        </div>
        <div class="results-buttons">
            <a href="{{ url_for('test.review') }}" class="btn btn-secondary">Review Test</a>
            <a href="{{ url_for('base.index') }}" class="btn btn-primary">Return to Home</a>
        </div>
    </div>
</div>
{% endblock %}